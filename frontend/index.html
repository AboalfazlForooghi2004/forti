<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>FortiGate Automation - Phase 1</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h2>فاز ۱ - استخراج Address Object و Group</h2>

<button onclick="loadData()">دریافت اطلاعات</button>

<h3>Address Objects</h3>
<pre id="addresses"></pre>

<h3>Address Groups</h3>
<pre id="groups"></pre>
<div class="card">
  <h3>Phase 2: Analysis</h3>

  <button onclick="loadDuplicates()">Find Duplicate IP Objects</button>

  <pre id="duplicates"></pre>

  <hr>

  <input id="ipInput" placeholder="Enter IP (e.g. 192.168.1.10)">
  <button onclick="findGroups()">Find Groups</button>

  <pre id="groupsResult"></pre>
</div>

<div class="card">
  <h3>Phase 3: VIP Management</h3>

  <h4>Create VIP</h4>

  <input placeholder="VIP Name" id="vipName">
  <input placeholder="External IP" id="extIp">
  <input placeholder="Mapped IP" id="mapIp">
  <input placeholder="Interface (e.g. wan1)" id="vipIntf">
  <input placeholder="External Port" id="extPort">
  <input placeholder="Mapped Port" id="mapPort">

  <button onclick="createVIP()">Create VIP</button>

  <hr>

  <h4>Update Firewall Policy</h4>

  <input placeholder="Policy ID" id="policyId">
  <input placeholder="VIP Name" id="policyVip">

  <button onclick="updatePolicy()">Update Policy</button>

  <pre id="phase3Result"></pre>
</div>
<div class="card">
  <h3>Phase 4: Automation</h3>

  <input placeholder="External IP" id="p4ExtIp">
  <input placeholder="Interface (wan1)" id="p4Intf">
  <input placeholder="Policy ID" id="p4Policy">

  <h4>Targets</h4>
  <textarea id="p4Targets"
    placeholder="192.168.1.10:80&#10;192.168.1.11:80"></textarea>

  <button onclick="runAutomation()">Run Automation</button>

  <pre id="p4Result"></pre>
</div>


<script src="app.js"></script>
</body>
</html>
